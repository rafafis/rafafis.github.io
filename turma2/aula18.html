<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 18</title>
    <link rel="stylesheet" href="../style.css">
	<link rel="stylesheet" href="../prism.css">
	
</head>

<body>
	<script src="../prism.js"></script>
    <header>
        <h1>Turma 2¬∫ Anos - F√≠sica</h1>
		<br>
        <h1>Rob√≥tica</h1>
    </header>

    <main>
        <section id="links">
            <h2>Links √∫teis</h2>
            <ul>
              <li><a href="https://www.tinkercad.com/" target="_blank">Tinkercad</a></li>
              <li><a href="https://app.arduino.cc/" target="_blank">Arduino</a></li>
            </ul>
		</section>
        <section>
            <h2>Aula 18 - Portas PWM</h2>
O objetivo desta aula √© conhecer o funcionamento e a utiliza√ß√£o do conversor anal√≥gico/digital presente no Arduino, bem como sua utiliza√ß√£o na leitura de sinais anal√≥gicos
.
<section id="porta-pwm" lang="pt-BR">
  <h2>O que √© uma porta PWM?</h2>
  <p>
    Uma <strong>porta PWM</strong> (<em>Pulse Width Modulation</em> ‚Äì Modula√ß√£o por Largura de Pulso)
    √© um pino digital do microcontrolador que <strong>simula um sinal anal√≥gico</strong> ligando e
    desligando rapidamente em alta frequ√™ncia. Em vez de fornecer uma tens√£o cont√≠nua intermedi√°ria
    (por exemplo, 2,5&nbsp;V), a porta alterna entre <strong>0&nbsp;V</strong> e <strong>5&nbsp;V</strong> e controla
    a <em>propor√ß√£o de tempo ligada</em> (duty cycle) dentro de cada per√≠odo.
  </p>

  <h3>Como funciona</h3>
  <ul>
    <li><strong>0% de duty cycle</strong>: sempre desligado &rarr; tens√£o m√©dia ‚âà 0&nbsp;V (LED apagado).</li>
    <li><strong>50% de duty cycle</strong>: metade do tempo ligado &rarr; tens√£o m√©dia ‚âà 2,5&nbsp;V (meia-luz).</li>
    <li><strong>100% de duty cycle</strong>: sempre ligado &rarr; tens√£o m√©dia ‚âà 5&nbsp;V (brilho m√°ximo).</li>
  </ul>

  <h3>Para que serve</h3>
  <p>
    Controlar <strong>brilho de LEDs</strong>, <strong>velocidade de motores DC</strong>, <strong>volume de buzzer</strong>,
    aquecimento por resist√™ncia, entre outras aplica√ß√µes que dependem de pot√™ncia ‚Äúm√©dia‚Äù entregue ao atuador.
  </p>

  <h3>Portas PWM no Arduino Uno</h3>
  <p>
    No <strong>Arduino Uno</strong>, as portas PWM s√£o marcadas com o s√≠mbolo <code>~</code> e normalmente s√£o
    os pinos <strong>3, 5, 6, 9, 10 e 11</strong>.
  </p>

  <h3>Exemplo r√°pido (Arduino)</h3>
  <pre><code>// Varia o brilho de um LED usando PWM
const int pinoLed = 11; // pino ~11
void setup() { pinMode(pinoLed, OUTPUT); }
void loop() {
  for (int i = 0; i &lt;= 255; i++) { analogWrite(pinoLed, i); delay(10); }
  for (int i = 255; i &gt;= 0; i--) { analogWrite(pinoLed, i); delay(10); }
}</code></pre>

  <p style="font-size:0.9rem;color:#555;">
    Observa√ß√£o: PWM √© uma t√©cnica <em>digital</em> de controle por tempo; n√£o usa o conversor anal√≥gico-digital (ADC).
  </p>
</section>

    		<h4>Roteiro da aula</h4>
        <a class="btn-pdf"
href="https://aluno.escoladigital.pr.gov.br/sites/alunos/arquivos_restritos/files/documento/2021-05/aula_18_portas_pwm.pdf"
            target="_blank">
            üìÑ Baixar Roteiro da Aula (PDF)
        </a>
    <h4>V√≠deo da Aula</h4>
    <div class="video-container">
        <iframe width="560" height="315" 
            src="https://www.youtube.com/embed/oEeZLCMk0Cc" 
            title="Aula 18 - Portas PWM" 
            frameborder="0" allowfullscreen>
        </iframe>
    </div>
	<div class="modelo-3d">
    <h4>Visualiza√ß√£o 3D do Projeto:</h4>
    <iframe title="Push button" frameborder="0" allowfullscreen
        mozallowfullscreen="true" webkitallowfullscreen="true"
        allow="autoplay; fullscreen; xr-spatial-tracking"
        xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share
        width="640" height="480"
        src="https://sketchfab.com/models/7719bb793b0642299532fdceaa92e4a8/embed">
    </iframe>
</div>
	<br>

    <h4>C√≥digo da Aula:</h4>
<pre><code class="language-ino" data-prismjs-copy="Copiar!">
/* Define a intensidade do brilho de um LED usando um pino
PWM. */

int pinoLed = 11; /* Define o pino 11 como pino do LED. */
int intensidade = 8; /* Defina o brilho do LED (0-255). */

void setup() {
  /* Define o pino do LED como sa√≠da. */
  pinMode(pinoLed, OUTPUT);
}

void loop() {
  /* Liga o LED com a intensidade definida. */
  analogWrite(pinoLed, intensidade);
}
</code></pre>
    <h4>C√≥digo Avan√ßado (3 est√°gios):</h4>
Como ligar o bot√£o:
<br>
1. Um terminal no pino 2 do Arduino.
<br>
2. Outro terminal no GND.
<br>
Usando INPUT_PULLUP, n√£o √© preciso resistor externo.
<pre><code class="language-ino" data-prismjs-copy="Copiar!">
/*
  Controle de LED por bot√£o com 3 estados:
  1¬∞ clique  -> meia luz (PWM 128)
  2¬∞ clique  -> luz m√°xima (PWM 255)
  3¬∞ clique  -> desligado (PWM 0)
*/

const int pinoLed = 11;     // Pino PWM do LED
const int pinoBotao = 2;    // Pino do bot√£o (digital)
int estado = 0;             // Estado atual (0=desligado, 1=meia luz, 2=total)
bool botaoPressionado = false;

void setup() {
  pinMode(pinoLed, OUTPUT);
  pinMode(pinoBotao, INPUT_PULLUP); // Bot√£o ligado ao GND
}

void loop() {
  // Leitura do bot√£o (invertido pois est√° em INPUT_PULLUP)
  if (digitalRead(pinoBotao) == LOW && !botaoPressionado) {
    botaoPressionado = true;
    estado++;
    if (estado > 2) estado = 0; // Volta para 0 ap√≥s 2
  }

  // Quando soltar o bot√£o, permite novo clique
  if (digitalRead(pinoBotao) == HIGH) {
    botaoPressionado = false;
  }

  // Define o brilho do LED conforme o estado
  switch (estado) {
    case 0: analogWrite(pinoLed, 0);   break; // Desligado
    case 1: analogWrite(pinoLed, 128); break; // Meia luz
    case 2: analogWrite(pinoLed, 255); break; // M√°xima
  }
}

</code></pre>
</section>
</main>
    <footer>
        <p>&copy; 2025 - Dr. Rafael Silva</p>
        <p><a href="./main.html">Voltar para a anterior</a></p>
    </footer>
</body>

</html>
